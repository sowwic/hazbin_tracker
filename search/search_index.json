{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"Hazbin Tracker","text":"<p>A simple tracker for Hazbin Hotel trading cards.</p> <p>Application is intended to run in the background, run periodic checks against Hazbin website and flag any new cards that were published since last check.</p> <p>By default it only sends desktop notifications but it's possible to connect to Pushover service to receive those any other device.</p>"},{"location":"autoapi/summary/","title":"Summary","text":"<ul> <li>hazbin_tracker<ul> <li>core<ul> <li>cards_tracker</li> <li>constants</li> <li>logger</li> <li>scrapper</li> <li>settings</li> </ul> </li> <li>ui<ul> <li>about_dialog</li> <li>application</li> <li>check_history_dialog</li> <li>models<ul> <li>check_history</li> </ul> </li> <li>pyside_utils</li> <li>settings_dialog</li> <li>tray</li> </ul> </li> </ul> </li> </ul>"},{"location":"autoapi/hazbin_tracker/","title":"hazbin_tracker","text":""},{"location":"autoapi/hazbin_tracker/#hazbin_tracker","title":"<code>hazbin_tracker</code>","text":""},{"location":"autoapi/hazbin_tracker/core/","title":"core","text":""},{"location":"autoapi/hazbin_tracker/core/#hazbin_tracker.core","title":"<code>core</code>","text":""},{"location":"autoapi/hazbin_tracker/core/cards_tracker/","title":"cards_tracker","text":""},{"location":"autoapi/hazbin_tracker/core/cards_tracker/#hazbin_tracker.core.cards_tracker","title":"<code>cards_tracker</code>","text":""},{"location":"autoapi/hazbin_tracker/core/cards_tracker/#hazbin_tracker.core.cards_tracker-attributes","title":"Attributes","text":""},{"location":"autoapi/hazbin_tracker/core/cards_tracker/#hazbin_tracker.core.cards_tracker.LOGGER","title":"<code>LOGGER = logging.getLogger(__name__)</code>  <code>module-attribute</code>","text":""},{"location":"autoapi/hazbin_tracker/core/cards_tracker/#hazbin_tracker.core.cards_tracker-classes","title":"Classes","text":""},{"location":"autoapi/hazbin_tracker/core/cards_tracker/#hazbin_tracker.core.cards_tracker.CardsTracker","title":"<code>CardsTracker()</code>","text":"<p>               Bases: <code>QObject</code></p> <p>Tracker class to monitor Hazbin cards for new releases.</p> <p>Instance constructor.</p> Source code in <code>src/hazbin_tracker/core/cards_tracker.py</code> <pre><code>def __init__(self):\n    \"\"\"Instance constructor.\"\"\"\n    super().__init__()\n    self._last_check_time = None\n    self._cards_data = None\n\n    # Timer\n    self._check_timer = QtCore.QTimer(self)\n\n    # Initial data\n    self.populate_cards_data()\n    self._create_signals()\n    LOGGER.info(f\"Started tracker: {self}\")\n</code></pre>"},{"location":"autoapi/hazbin_tracker/core/cards_tracker/#hazbin_tracker.core.cards_tracker.CardsTracker-attributes","title":"Attributes","text":""},{"location":"autoapi/hazbin_tracker/core/cards_tracker/#hazbin_tracker.core.cards_tracker.CardsTracker.NICE_TIME_FORMAT","title":"<code>NICE_TIME_FORMAT = '%d-%m-%Y at %H:%M:%S'</code>  <code>class-attribute</code> <code>instance-attribute</code>","text":""},{"location":"autoapi/hazbin_tracker/core/cards_tracker/#hazbin_tracker.core.cards_tracker.CardsTracker.TRACK_FILE_NAME","title":"<code>TRACK_FILE_NAME = 'track_data.json'</code>  <code>class-attribute</code> <code>instance-attribute</code>","text":""},{"location":"autoapi/hazbin_tracker/core/cards_tracker/#hazbin_tracker.core.cards_tracker.CardsTracker.application","title":"<code>application</code>  <code>property</code>","text":"<p>Get the main application instance.</p> <p>Returns:</p> Name Type Description <code>HazbinTrackerApplication</code> <p>main application instance</p>"},{"location":"autoapi/hazbin_tracker/core/cards_tracker/#hazbin_tracker.core.cards_tracker.CardsTracker.cards_data","title":"<code>cards_data</code>  <code>property</code> <code>writable</code>","text":"<p>Get cards data.</p>"},{"location":"autoapi/hazbin_tracker/core/cards_tracker/#hazbin_tracker.core.cards_tracker.CardsTracker.cards_updated","title":"<code>cards_updated = QtCore.Signal()</code>  <code>class-attribute</code> <code>instance-attribute</code>","text":""},{"location":"autoapi/hazbin_tracker/core/cards_tracker/#hazbin_tracker.core.cards_tracker.CardsTracker.check_completed","title":"<code>check_completed = QtCore.Signal(list)</code>  <code>class-attribute</code> <code>instance-attribute</code>","text":""},{"location":"autoapi/hazbin_tracker/core/cards_tracker/#hazbin_tracker.core.cards_tracker.CardsTracker.check_time_updated","title":"<code>check_time_updated = QtCore.Signal()</code>  <code>class-attribute</code> <code>instance-attribute</code>","text":""},{"location":"autoapi/hazbin_tracker/core/cards_tracker/#hazbin_tracker.core.cards_tracker.CardsTracker.last_check_time","title":"<code>last_check_time</code>  <code>property</code> <code>writable</code>","text":"<p>Get last check time.</p> <p>Returns:</p> Type Description <p>datetime.datetime: last check time</p>"},{"location":"autoapi/hazbin_tracker/core/cards_tracker/#hazbin_tracker.core.cards_tracker.CardsTracker.latest_publish_time","title":"<code>latest_publish_time</code>  <code>property</code>","text":"<p>Get the latest published card time.</p> <p>Returns:</p> Type Description <code>datetime</code> <p>datetime.datetime: latest published card time</p>"},{"location":"autoapi/hazbin_tracker/core/cards_tracker/#hazbin_tracker.core.cards_tracker.CardsTracker.latest_published_cards","title":"<code>latest_published_cards</code>  <code>property</code>","text":"<p>Get cards with the latest published time.</p> <p>Returns:</p> Type Description <code>list[dict]</code> <p>list[dict]: list of cards published at the latest time</p>"},{"location":"autoapi/hazbin_tracker/core/cards_tracker/#hazbin_tracker.core.cards_tracker.CardsTracker.new_cards_found","title":"<code>new_cards_found = QtCore.Signal(list)</code>  <code>class-attribute</code> <code>instance-attribute</code>","text":""},{"location":"autoapi/hazbin_tracker/core/cards_tracker/#hazbin_tracker.core.cards_tracker.CardsTracker.nice_last_checked_time","title":"<code>nice_last_checked_time</code>  <code>property</code>","text":"<p>Get nicely formatted last checked time.</p> <p>Returns:</p> Name Type Description <code>str</code> <p>nicely formatted last checked time</p>"},{"location":"autoapi/hazbin_tracker/core/cards_tracker/#hazbin_tracker.core.cards_tracker.CardsTracker.nice_latest_publish_time","title":"<code>nice_latest_publish_time</code>  <code>property</code>","text":"<p>Get nicely formatted latest published card time.</p> <p>Returns:</p> Name Type Description <code>str</code> <code>str</code> <p>nicely formatted latest published card time</p>"},{"location":"autoapi/hazbin_tracker/core/cards_tracker/#hazbin_tracker.core.cards_tracker.CardsTracker.track_file_path","title":"<code>track_file_path</code>  <code>property</code>","text":"<p>Get the path to the track file.</p> <p>Returns:</p> Type Description <code>Path</code> <p>pathlib.Path: path to the track file</p>"},{"location":"autoapi/hazbin_tracker/core/cards_tracker/#hazbin_tracker.core.cards_tracker.CardsTracker-functions","title":"Functions","text":""},{"location":"autoapi/hazbin_tracker/core/cards_tracker/#hazbin_tracker.core.cards_tracker.CardsTracker.__repr__","title":"<code>__repr__()</code>","text":"<p>Repr override.</p> <p>Returns:</p> Name Type Description <code>str</code> <p>string representation</p> Source code in <code>src/hazbin_tracker/core/cards_tracker.py</code> <pre><code>def __repr__(self):\n    \"\"\"Repr override.\n\n    Returns:\n        str: string representation\n    \"\"\"\n    return (\n        f\"&lt;CardsTracker last_check_time={self.nice_last_checked_time},\"\n        \" cards_count=\"\n        f\"{len(self._cards_data) if self._cards_data else 0},\"\n        f\" frequency={self.application.settings.tracker_check_minute_frequency} min&gt;\"\n    )\n</code></pre>"},{"location":"autoapi/hazbin_tracker/core/cards_tracker/#hazbin_tracker.core.cards_tracker.CardsTracker.create_cache","title":"<code>create_cache()</code>","text":"<p>Create cache file with current cards data and last check time.</p> Source code in <code>src/hazbin_tracker/core/cards_tracker.py</code> <pre><code>def create_cache(self):\n    \"\"\"Create cache file with current cards data and last check time.\"\"\"\n    LOGGER.debug(\"Creating cache\")\n    cache_content = {\n        \"last_check_time\": self.last_check_time.isoformat(),\n        \"cards\": self.cards_data,\n    }\n    with self.track_file_path.open(\"w\") as cache_file:\n        json.dump(cache_content, cache_file, indent=4)\n</code></pre>"},{"location":"autoapi/hazbin_tracker/core/cards_tracker/#hazbin_tracker.core.cards_tracker.CardsTracker.fetch_cards_data_from_cache","title":"<code>fetch_cards_data_from_cache()</code>","text":"<p>Fetch cards data from cache file.</p> Source code in <code>src/hazbin_tracker/core/cards_tracker.py</code> <pre><code>def fetch_cards_data_from_cache(self):\n    \"\"\"Fetch cards data from cache file.\"\"\"\n    LOGGER.debug(\"Loading cards from cache\")\n    with self.track_file_path.open() as cache_file:\n        cache_data = json.load(cache_file)\n    self._cards_data = cache_data.get(\"cards\", [])\n    self.record_time(\n        time_override=datetime.datetime.fromisoformat(\n            cache_data.get(\"last_check_time\")\n        )\n    )\n    LOGGER.debug(f\"Loaded {len(self._cards_data)} cards from {self.track_file_path}\")\n</code></pre>"},{"location":"autoapi/hazbin_tracker/core/cards_tracker/#hazbin_tracker.core.cards_tracker.CardsTracker.fetch_cards_data_from_source","title":"<code>fetch_cards_data_from_source()</code>","text":"<p>Fetch cards data from source.</p> Source code in <code>src/hazbin_tracker/core/cards_tracker.py</code> <pre><code>def fetch_cards_data_from_source(self):\n    \"\"\"Fetch cards data from source.\"\"\"\n    LOGGER.debug(\"Fetching cards data from source\")\n    self._cards_data = get_all_cards()\n    self.record_time()\n</code></pre>"},{"location":"autoapi/hazbin_tracker/core/cards_tracker/#hazbin_tracker.core.cards_tracker.CardsTracker.generate_new_cards_message","title":"<code>generate_new_cards_message(new_cards)</code>","text":"<p>Generate a message for new cards found.</p> <p>Parameters:</p> Name Type Description Default <code>new_cards</code> <code>list[dict]</code> <p>list of new cards found</p> required <p>Returns:     str: generated message</p> Source code in <code>src/hazbin_tracker/core/cards_tracker.py</code> <pre><code>def generate_new_cards_message(self, new_cards: list[dict]) -&gt; str:\n    \"\"\"Generate a message for new cards found.\n\n    Args:\n        new_cards (list[dict]): list of new cards found\n    Returns:\n        str: generated message\n    \"\"\"\n    LOGGER.debug(\"Generating new cards message...\")\n    message = f\"Found {len(new_cards)} new Hazbin cards:\"\n    for card in new_cards:\n        message += f\"\\n- {card.get('title')}\"\n    return message\n</code></pre>"},{"location":"autoapi/hazbin_tracker/core/cards_tracker/#hazbin_tracker.core.cards_tracker.CardsTracker.on_new_cards_found","title":"<code>on_new_cards_found(new_cards)</code>","text":"<p>Handle new cards found event.</p> <p>Parameters:</p> Name Type Description Default <code>new_cards</code> <code>list</code> <p>list of new cards found</p> required Source code in <code>src/hazbin_tracker/core/cards_tracker.py</code> <pre><code>def on_new_cards_found(self, new_cards: list):\n    \"\"\"Handle new cards found event.\n\n    Args:\n        new_cards (list): list of new cards found\n    \"\"\"\n    if not self.application.settings.pushover_enabled:\n        LOGGER.debug(\"Push notifications are disabled, skipping...\")\n        return\n\n    try:\n        response = requests.post(\n            \"https://api.pushover.net/1/messages.json\",\n            data={\n                \"token\": self.application.settings.pushover_app_key,\n                \"user\": self.application.settings.pushover_user_key,\n                \"title\": \"HazbinTracker - New Cards available!\",\n                \"message\": self.generate_new_cards_message(new_cards),\n            },\n            timeout=10,\n        )\n        response.raise_for_status()\n    except requests.RequestException:\n        LOGGER.exception(\n            \"Failed to send Pushover notification for new cards due to HTTP error.\"\n        )\n    except Exception:\n        LOGGER.exception(\n            \"Failed to send Pushover notification due to unhandled error.\"\n        )\n</code></pre>"},{"location":"autoapi/hazbin_tracker/core/cards_tracker/#hazbin_tracker.core.cards_tracker.CardsTracker.populate_cards_data","title":"<code>populate_cards_data()</code>","text":"<p>Populate cards data from cache or source.</p> Source code in <code>src/hazbin_tracker/core/cards_tracker.py</code> <pre><code>def populate_cards_data(self):\n    \"\"\"Populate cards data from cache or source.\"\"\"\n    LOGGER.debug(\"Populating tracker cards data\")\n    try:\n        self.fetch_cards_data_from_cache()\n    except (FileNotFoundError, json.JSONDecodeError):\n        LOGGER.debug(\"Failed to load cards from cache\")\n        self.fetch_cards_data_from_source()\n        self.create_cache()\n</code></pre>"},{"location":"autoapi/hazbin_tracker/core/cards_tracker/#hazbin_tracker.core.cards_tracker.CardsTracker.record_check_result","title":"<code>record_check_result(new_cards)</code>","text":"<p>Record the result of a check.</p> <p>Parameters:</p> Name Type Description Default <code>new_cards</code> <code>list[dict]</code> <p>list of new cards found</p> required Source code in <code>src/hazbin_tracker/core/cards_tracker.py</code> <pre><code>def record_check_result(self, new_cards: list[dict]):\n    \"\"\"Record the result of a check.\n\n    Args:\n        new_cards (list[dict]): list of new cards found\n    \"\"\"\n    record = {\n        \"timestamp\": self.nice_last_checked_time,\n        \"new_cards\": new_cards,\n    }\n    if CHECK_HISTORY_FILE_PATH.exists():\n        try:\n            history = json.loads(CHECK_HISTORY_FILE_PATH.read_text())\n        except Exception:\n            LOGGER.warning(\"Failed to read check history file, starting fresh.\")\n            history = []\n    else:\n        history = []\n\n    history.insert(0, record)\n\n    # Trim history if it exceeds the maximum size\n    history = history[: self.application.settings.check_history_size]\n    CHECK_HISTORY_FILE_PATH.write_text(json.dumps(history, indent=4))\n    LOGGER.debug(f\"Recorded check result to history: {CHECK_HISTORY_FILE_PATH}\")\n</code></pre>"},{"location":"autoapi/hazbin_tracker/core/cards_tracker/#hazbin_tracker.core.cards_tracker.CardsTracker.record_time","title":"<code>record_time(time_override=None)</code>","text":"<p>Record the current time as last check time.</p> <p>Parameters:</p> Name Type Description Default <code>time_override</code> <code>datetime</code> <p>time to set as last check time. Defaults to None, which uses the current time.</p> <code>None</code> Source code in <code>src/hazbin_tracker/core/cards_tracker.py</code> <pre><code>def record_time(self, time_override: datetime.datetime = None):\n    \"\"\"Record the current time as last check time.\n\n    Args:\n        time_override (datetime.datetime, optional): time to set as last check time.\n            Defaults to None, which uses the current time.\n    \"\"\"\n    LOGGER.debug(\"Recording time...\")\n    new_time = (\n        time_override if time_override else datetime.datetime.now(datetime.UTC)\n    )\n    self.last_check_time = new_time\n    LOGGER.debug(f\"Recorded time: {self.last_check_time}\")\n</code></pre>"},{"location":"autoapi/hazbin_tracker/core/cards_tracker/#hazbin_tracker.core.cards_tracker.CardsTracker.run_check","title":"<code>run_check()</code>","text":"<p>Run a check for new cards.</p> <p>Returns:</p> Type Description <code>list[dict]</code> <p>list[dict]: list of new cards found</p> Source code in <code>src/hazbin_tracker/core/cards_tracker.py</code> <pre><code>def run_check(self) -&gt; list[dict]:\n    \"\"\"Run a check for new cards.\n\n    Returns:\n        list[dict]: list of new cards found\n    \"\"\"\n    LOGGER.info(\"Running cards check...\")\n    source_cards = get_all_cards()\n\n    new_cards = []\n    for card in source_cards:\n        cards_published_at = datetime.datetime.fromisoformat(card[\"published_at\"])\n        if cards_published_at &gt; self._last_check_time:\n            new_cards.append(card)\n\n    LOGGER.info(f\"Found {len(new_cards)} new cards.\")\n    self.cards_data = source_cards\n    self.record_time()\n    self.create_cache()\n    self.check_completed.emit(new_cards)\n    if new_cards:\n        self.new_cards_found.emit(new_cards)\n    return new_cards\n</code></pre>"},{"location":"autoapi/hazbin_tracker/core/cards_tracker/#hazbin_tracker.core.cards_tracker.CardsTracker.start_periodic_check_timer","title":"<code>start_periodic_check_timer()</code>","text":"<p>Start the periodic check timer.</p> Source code in <code>src/hazbin_tracker/core/cards_tracker.py</code> <pre><code>def start_periodic_check_timer(self):\n    \"\"\"Start the periodic check timer.\"\"\"\n    LOGGER.debug(\"Starting check timer...\")\n    if self._check_timer.isActive():\n        self._check_timer.stop()\n    self._check_timer.setInterval(\n        self.application.settings.tracker_check_minute_frequency * 60 * 1000\n    )  # minutes in ms\u0192\n    self._check_timer.start()\n    LOGGER.debug(f\"Check Timer: {self._check_timer.interval()}ms\")\n</code></pre>"},{"location":"autoapi/hazbin_tracker/core/cards_tracker/#hazbin_tracker.core.cards_tracker-functions","title":"Functions","text":""},{"location":"autoapi/hazbin_tracker/core/constants/","title":"constants","text":""},{"location":"autoapi/hazbin_tracker/core/constants/#hazbin_tracker.core.constants","title":"<code>constants</code>","text":""},{"location":"autoapi/hazbin_tracker/core/constants/#hazbin_tracker.core.constants-attributes","title":"Attributes","text":""},{"location":"autoapi/hazbin_tracker/core/constants/#hazbin_tracker.core.constants.APPLICATION_TITLE","title":"<code>APPLICATION_TITLE = 'HazbinTracker'</code>  <code>module-attribute</code>","text":""},{"location":"autoapi/hazbin_tracker/core/constants/#hazbin_tracker.core.constants.APP_DATA_DIR","title":"<code>APP_DATA_DIR = pathlib.Path(platformdirs.user_data_dir(appname=APPLICATION_TITLE, appauthor=ORGANIZATION_NAME, roaming=False, ensure_exists=True))</code>  <code>module-attribute</code>","text":""},{"location":"autoapi/hazbin_tracker/core/constants/#hazbin_tracker.core.constants.AUTHOR_NAME","title":"<code>AUTHOR_NAME = 'Dmitrii Shevchenko'</code>  <code>module-attribute</code>","text":""},{"location":"autoapi/hazbin_tracker/core/constants/#hazbin_tracker.core.constants.CHECK_HISTORY_FILE_PATH","title":"<code>CHECK_HISTORY_FILE_PATH = APP_DATA_DIR / 'check_history.json'</code>  <code>module-attribute</code>","text":""},{"location":"autoapi/hazbin_tracker/core/constants/#hazbin_tracker.core.constants.DEBUG","title":"<code>DEBUG = int(os.getenv('HAZBIN_DEBUG', 0))</code>  <code>module-attribute</code>","text":""},{"location":"autoapi/hazbin_tracker/core/constants/#hazbin_tracker.core.constants.DEFAULT_SORT_KEY","title":"<code>DEFAULT_SORT_KEY = 'published_at'</code>  <code>module-attribute</code>","text":""},{"location":"autoapi/hazbin_tracker/core/constants/#hazbin_tracker.core.constants.HAZBIN_CARDS_PRODUCTS_JSON_URL","title":"<code>HAZBIN_CARDS_PRODUCTS_JSON_URL = 'https://hazbinhotel.com/collections/trading-cards/products.json'</code>  <code>module-attribute</code>","text":""},{"location":"autoapi/hazbin_tracker/core/constants/#hazbin_tracker.core.constants.HAZBIN_WEBSITE_URL","title":"<code>HAZBIN_WEBSITE_URL = 'https://hazbinhotel.com/collections/trading-cards'</code>  <code>module-attribute</code>","text":""},{"location":"autoapi/hazbin_tracker/core/constants/#hazbin_tracker.core.constants.ORGANIZATION_NAME","title":"<code>ORGANIZATION_NAME = 'Sowwic'</code>  <code>module-attribute</code>","text":""},{"location":"autoapi/hazbin_tracker/core/constants/#hazbin_tracker.core.constants.PACKAGE_NAME","title":"<code>PACKAGE_NAME = 'hazbin-tracker'</code>  <code>module-attribute</code>","text":""},{"location":"autoapi/hazbin_tracker/core/constants/#hazbin_tracker.core.constants.PRODUCTS_REQUEST_LIMIT","title":"<code>PRODUCTS_REQUEST_LIMIT = 250</code>  <code>module-attribute</code>","text":""},{"location":"autoapi/hazbin_tracker/core/constants/#hazbin_tracker.core.constants.RELEASE_YEAR","title":"<code>RELEASE_YEAR = 2025</code>  <code>module-attribute</code>","text":""},{"location":"autoapi/hazbin_tracker/core/constants/#hazbin_tracker.core.constants.SETTINGS_FILE_PATH","title":"<code>SETTINGS_FILE_PATH = APP_DATA_DIR / 'settings.ini'</code>  <code>module-attribute</code>","text":""},{"location":"autoapi/hazbin_tracker/core/logger/","title":"logger","text":""},{"location":"autoapi/hazbin_tracker/core/logger/#hazbin_tracker.core.logger","title":"<code>logger</code>","text":""},{"location":"autoapi/hazbin_tracker/core/logger/#hazbin_tracker.core.logger-attributes","title":"Attributes","text":""},{"location":"autoapi/hazbin_tracker/core/logger/#hazbin_tracker.core.logger-classes","title":"Classes","text":""},{"location":"autoapi/hazbin_tracker/core/logger/#hazbin_tracker.core.logger.HazbinLogger","title":"<code>HazbinLogger(name, level=logging.INFO)</code>","text":"<p>               Bases: <code>Logger</code></p> <p>Logger for Hazbin Tracker application.</p> <p>Initialize the HazbinLogger instance.</p> <p>Parameters:</p> Name Type Description Default <code>name</code> <code>str</code> <p>Name of the logger.</p> required <code>level</code> <code>int</code> <p>Logging level. Defaults to logging.INFO.</p> <code>INFO</code> Source code in <code>src/hazbin_tracker/core/logger.py</code> <pre><code>def __init__(self, name, level=logging.INFO):\n    \"\"\"Initialize the HazbinLogger instance.\n\n    Args:\n        name (str): Name of the logger.\n        level (int, optional): Logging level. Defaults to logging.INFO.\n    \"\"\"\n    level = logging.DEBUG if DEBUG else level\n    super().__init__(name, level)\n    self.init_handlers()\n</code></pre>"},{"location":"autoapi/hazbin_tracker/core/logger/#hazbin_tracker.core.logger.HazbinLogger-attributes","title":"Attributes","text":""},{"location":"autoapi/hazbin_tracker/core/logger/#hazbin_tracker.core.logger.HazbinLogger.FILE_FORMAT","title":"<code>FILE_FORMAT = '%(asctime)s [%(levelname)s] %(message)s'</code>  <code>class-attribute</code> <code>instance-attribute</code>","text":""},{"location":"autoapi/hazbin_tracker/core/logger/#hazbin_tracker.core.logger.HazbinLogger.FILE_HANDLER","title":"<code>FILE_HANDLER = True</code>  <code>class-attribute</code> <code>instance-attribute</code>","text":""},{"location":"autoapi/hazbin_tracker/core/logger/#hazbin_tracker.core.logger.HazbinLogger.FILE_LEVEL","title":"<code>FILE_LEVEL = logging.WARNING</code>  <code>class-attribute</code> <code>instance-attribute</code>","text":""},{"location":"autoapi/hazbin_tracker/core/logger/#hazbin_tracker.core.logger.HazbinLogger.LOG_FILE_PATH","title":"<code>LOG_FILE_PATH = str(APP_DATA_DIR / 'hazbin.log')</code>  <code>class-attribute</code> <code>instance-attribute</code>","text":""},{"location":"autoapi/hazbin_tracker/core/logger/#hazbin_tracker.core.logger.HazbinLogger.STD_HANDLER","title":"<code>STD_HANDLER = True</code>  <code>class-attribute</code> <code>instance-attribute</code>","text":""},{"location":"autoapi/hazbin_tracker/core/logger/#hazbin_tracker.core.logger.HazbinLogger.STD_OUT_FORMAT","title":"<code>STD_OUT_FORMAT = '%(asctime)s [%(levelname)s] %(name)s: %(message)s'</code>  <code>class-attribute</code> <code>instance-attribute</code>","text":""},{"location":"autoapi/hazbin_tracker/core/logger/#hazbin_tracker.core.logger.HazbinLogger-functions","title":"Functions","text":""},{"location":"autoapi/hazbin_tracker/core/logger/#hazbin_tracker.core.logger.HazbinLogger.init_handlers","title":"<code>init_handlers()</code>","text":"<p>Initialize logging handlers.</p> Source code in <code>src/hazbin_tracker/core/logger.py</code> <pre><code>def init_handlers(self):\n    \"\"\"Initialize logging handlers.\"\"\"\n    if self.hasHandlers():\n        return\n\n    if self.STD_HANDLER:\n        stream_handler = logging.StreamHandler(sys.stdout)\n        stream_handler.setFormatter(logging.Formatter(self.STD_OUT_FORMAT))\n        self.addHandler(stream_handler)\n\n    if self.FILE_HANDLER:\n        file_handler = logging.FileHandler(self.LOG_FILE_PATH)\n        file_handler.setLevel(self.FILE_LEVEL)\n        file_handler.setFormatter(logging.Formatter(self.FILE_FORMAT))\n        self.addHandler(file_handler)\n</code></pre>"},{"location":"autoapi/hazbin_tracker/core/scrapper/","title":"scrapper","text":""},{"location":"autoapi/hazbin_tracker/core/scrapper/#hazbin_tracker.core.scrapper","title":"<code>scrapper</code>","text":""},{"location":"autoapi/hazbin_tracker/core/scrapper/#hazbin_tracker.core.scrapper-attributes","title":"Attributes","text":""},{"location":"autoapi/hazbin_tracker/core/scrapper/#hazbin_tracker.core.scrapper.LOGGER","title":"<code>LOGGER = logging.getLogger(__name__)</code>  <code>module-attribute</code>","text":""},{"location":"autoapi/hazbin_tracker/core/scrapper/#hazbin_tracker.core.scrapper.PRODUCT_TITLE_PREFIX","title":"<code>PRODUCT_TITLE_PREFIX = 'Hazbin Hotel Trading Cards'</code>  <code>module-attribute</code>","text":""},{"location":"autoapi/hazbin_tracker/core/scrapper/#hazbin_tracker.core.scrapper-functions","title":"Functions","text":""},{"location":"autoapi/hazbin_tracker/core/scrapper/#hazbin_tracker.core.scrapper.get_all_cards","title":"<code>get_all_cards()</code>","text":"<p>Get all trading card sorted by the default sort key.</p> <p>Returns:</p> Type Description <code>list[dict]</code> <p>list[dict]: A list of sorted cards dictionaries.</p> Source code in <code>src/hazbin_tracker/core/scrapper.py</code> <pre><code>def get_all_cards() -&gt; list[dict]:\n    \"\"\"Get all trading card sorted by the default sort key.\n\n    Returns:\n        list[dict]: A list of sorted cards dictionaries.\n    \"\"\"\n    products = get_all_products()\n    for product in products:\n        title = product.get(\"title\")\n        if isinstance(title, str) and title.startswith(PRODUCT_TITLE_PREFIX):\n            product[\"title\"] = title.split(PRODUCT_TITLE_PREFIX, maxsplit=1)[-1].strip()\n\n    return sorted(products, key=lambda x: x[DEFAULT_SORT_KEY], reverse=True)\n</code></pre>"},{"location":"autoapi/hazbin_tracker/core/scrapper/#hazbin_tracker.core.scrapper.get_all_products","title":"<code>get_all_products()</code>","text":"<p>Get all products from the Hazbin Hotel trading cards collection.</p> <p>Returns:</p> Name Type Description <code>list</code> <code>list[dict]</code> <p>A list of all product dictionaries.</p> Source code in <code>src/hazbin_tracker/core/scrapper.py</code> <pre><code>def get_all_products() -&gt; list[dict]:\n    \"\"\"Get all products from the Hazbin Hotel trading cards collection.\n\n    Returns:\n        list: A list of all product dictionaries.\n    \"\"\"\n    all_products = []\n    page = 1\n    while True:\n        try:\n            resp = requests.get(\n                HAZBIN_CARDS_PRODUCTS_JSON_URL,\n                params={\"limit\": PRODUCTS_REQUEST_LIMIT, \"page\": page},\n                timeout=10,\n            )\n        except requests.exceptions.ConnectionError:\n            LOGGER.error(\"No network connection.\")\n            break\n        resp.raise_for_status()\n        data = resp.json().get(\"products\")\n        if not data:\n            break\n        all_products.extend(data)\n        page += 1\n    return all_products\n</code></pre>"},{"location":"autoapi/hazbin_tracker/core/settings/","title":"settings","text":""},{"location":"autoapi/hazbin_tracker/core/settings/#hazbin_tracker.core.settings","title":"<code>settings</code>","text":""},{"location":"autoapi/hazbin_tracker/core/settings/#hazbin_tracker.core.settings-attributes","title":"Attributes","text":""},{"location":"autoapi/hazbin_tracker/core/settings/#hazbin_tracker.core.settings.LOGGER","title":"<code>LOGGER = logging.getLogger(__name__)</code>  <code>module-attribute</code>","text":""},{"location":"autoapi/hazbin_tracker/core/settings/#hazbin_tracker.core.settings-classes","title":"Classes","text":""},{"location":"autoapi/hazbin_tracker/core/settings/#hazbin_tracker.core.settings.HazbinSettings","title":"<code>HazbinSettings()</code>","text":"<p>               Bases: <code>QObject</code></p> <p>QSettings manager for Hazbin Tracker application.</p> <p>Instance constructor.</p> Source code in <code>src/hazbin_tracker/core/settings.py</code> <pre><code>def __init__(self):\n    \"\"\"Instance constructor.\"\"\"\n    super().__init__()\n    self._settings = QtCore.QSettings(\n        str(SETTINGS_FILE_PATH), QtCore.QSettings.IniFormat\n    )\n    LOGGER.debug(f\"Settings file: {self._settings.fileName()}\")\n</code></pre>"},{"location":"autoapi/hazbin_tracker/core/settings/#hazbin_tracker.core.settings.HazbinSettings-attributes","title":"Attributes","text":""},{"location":"autoapi/hazbin_tracker/core/settings/#hazbin_tracker.core.settings.HazbinSettings.CHECK_HISTORY_SIZE_DEFAULT","title":"<code>CHECK_HISTORY_SIZE_DEFAULT = 50</code>  <code>class-attribute</code> <code>instance-attribute</code>","text":""},{"location":"autoapi/hazbin_tracker/core/settings/#hazbin_tracker.core.settings.HazbinSettings.CHECK_HISTORY_SIZE_MINIMUM","title":"<code>CHECK_HISTORY_SIZE_MINIMUM = 10</code>  <code>class-attribute</code> <code>instance-attribute</code>","text":""},{"location":"autoapi/hazbin_tracker/core/settings/#hazbin_tracker.core.settings.HazbinSettings.TRACKER_CHECK_FREQUENCY_DEFAULT","title":"<code>TRACKER_CHECK_FREQUENCY_DEFAULT = 60</code>  <code>class-attribute</code> <code>instance-attribute</code>","text":""},{"location":"autoapi/hazbin_tracker/core/settings/#hazbin_tracker.core.settings.HazbinSettings.TRACKER_CHECK_FREQUENCY_MINIMUM","title":"<code>TRACKER_CHECK_FREQUENCY_MINIMUM = 1</code>  <code>class-attribute</code> <code>instance-attribute</code>","text":""},{"location":"autoapi/hazbin_tracker/core/settings/#hazbin_tracker.core.settings.HazbinSettings.check_history_size","title":"<code>check_history_size</code>  <code>property</code> <code>writable</code>","text":"<p>Get the size of the check history.</p> <p>Returns:</p> Name Type Description <code>int</code> <code>int</code> <p>number of entries in the check history</p>"},{"location":"autoapi/hazbin_tracker/core/settings/#hazbin_tracker.core.settings.HazbinSettings.pushover_app_key","title":"<code>pushover_app_key</code>  <code>property</code> <code>writable</code>","text":"<p>Get the Pushover application key.</p>"},{"location":"autoapi/hazbin_tracker/core/settings/#hazbin_tracker.core.settings.HazbinSettings.pushover_enabled","title":"<code>pushover_enabled</code>  <code>property</code> <code>writable</code>","text":"<p>Get whether Pushover notifications are enabled.</p>"},{"location":"autoapi/hazbin_tracker/core/settings/#hazbin_tracker.core.settings.HazbinSettings.pushover_user_key","title":"<code>pushover_user_key</code>  <code>property</code> <code>writable</code>","text":"<p>Get the Pushover user key.</p>"},{"location":"autoapi/hazbin_tracker/core/settings/#hazbin_tracker.core.settings.HazbinSettings.tracker_check_minute_frequency","title":"<code>tracker_check_minute_frequency</code>  <code>property</code> <code>writable</code>","text":"<p>Get the tracker check frequency in minutes.</p>"},{"location":"autoapi/hazbin_tracker/core/settings/#hazbin_tracker.core.settings.HazbinSettings.tracker_frequency_changed","title":"<code>tracker_frequency_changed = QtCore.Signal(int)</code>  <code>class-attribute</code> <code>instance-attribute</code>","text":""},{"location":"autoapi/hazbin_tracker/core/settings/#hazbin_tracker.core.settings.HazbinSettings-functions","title":"Functions","text":""},{"location":"autoapi/hazbin_tracker/core/settings/#hazbin_tracker.core.settings.HazbinSettings.sync","title":"<code>sync()</code>","text":"<p>Sync settings to disk.</p> Source code in <code>src/hazbin_tracker/core/settings.py</code> <pre><code>@QtCore.Slot()\ndef sync(self):\n    \"\"\"Sync settings to disk.\"\"\"\n    self._settings.sync()\n</code></pre>"},{"location":"autoapi/hazbin_tracker/ui/","title":"ui","text":""},{"location":"autoapi/hazbin_tracker/ui/#hazbin_tracker.ui","title":"<code>ui</code>","text":""},{"location":"autoapi/hazbin_tracker/ui/about_dialog/","title":"about_dialog","text":""},{"location":"autoapi/hazbin_tracker/ui/about_dialog/#hazbin_tracker.ui.about_dialog","title":"<code>about_dialog</code>","text":""},{"location":"autoapi/hazbin_tracker/ui/about_dialog/#hazbin_tracker.ui.about_dialog-attributes","title":"Attributes","text":""},{"location":"autoapi/hazbin_tracker/ui/about_dialog/#hazbin_tracker.ui.about_dialog-classes","title":"Classes","text":""},{"location":"autoapi/hazbin_tracker/ui/about_dialog/#hazbin_tracker.ui.about_dialog.AboutDialog","title":"<code>AboutDialog(parent=None)</code>","text":"<p>               Bases: <code>QDialog</code></p> <p>About dialog for Hazbin Tracker application.</p> <p>Instance constructor.</p> <p>Parameters:</p> Name Type Description Default <code>parent</code> <code>QObject</code> <p>Parent widget. Defaults to None.</p> <code>None</code> Source code in <code>src/hazbin_tracker/ui/about_dialog.py</code> <pre><code>def __init__(self, parent: QtCore.QObject = None):\n    \"\"\"Instance constructor.\n\n    Args:\n        parent (QtCore.QObject, optional): Parent widget. Defaults to None.\n    \"\"\"\n    super().__init__(parent)\n    self.setWindowTitle(\"About Hazbin Tracker\")\n    # Remove \"?\" button\n    self.setWindowFlag(QtCore.Qt.WindowContextHelpButtonHint, False)\n    self.setFixedSize(300, 180)\n\n    layout = QtWidgets.QVBoxLayout(self)\n\n    # Icon at the top\n    icon_label = QtWidgets.QLabel(self)\n    icon = QtGui.QIcon(\":/icons/hazbin.png\")\n    pixmap = icon.pixmap(64, 64)\n    icon_label.setPixmap(pixmap)\n    icon_label.setAlignment(QtCore.Qt.AlignCenter)\n    layout.addWidget(icon_label)\n\n    # Title\n    title_label = QtWidgets.QLabel(\"&lt;h2&gt;Hazbin Cards Tracker&lt;/h2&gt;\", self)\n    title_label.setAlignment(QtCore.Qt.AlignCenter)\n    layout.addWidget(title_label)\n\n    # Version &amp; developer info\n    info_label = QtWidgets.QLabel(\n        (\n            f\"Version {QtWidgets.QApplication.applicationVersion()}&lt;br&gt;\"\n            f\"Developed by {AUTHOR_NAME}&lt;br&gt;&amp;copy; {RELEASE_YEAR}\"\n        ),\n        self,\n    )\n    info_label.setAlignment(QtCore.Qt.AlignCenter)\n    layout.addWidget(info_label)\n\n    center_dialog_on_screen(self)\n</code></pre>"},{"location":"autoapi/hazbin_tracker/ui/about_dialog/#hazbin_tracker.ui.about_dialog.AboutDialog-functions","title":"Functions","text":""},{"location":"autoapi/hazbin_tracker/ui/about_dialog/#hazbin_tracker.ui.about_dialog-functions","title":"Functions","text":""},{"location":"autoapi/hazbin_tracker/ui/application/","title":"application","text":""},{"location":"autoapi/hazbin_tracker/ui/application/#hazbin_tracker.ui.application","title":"<code>application</code>","text":""},{"location":"autoapi/hazbin_tracker/ui/application/#hazbin_tracker.ui.application-attributes","title":"Attributes","text":""},{"location":"autoapi/hazbin_tracker/ui/application/#hazbin_tracker.ui.application.LOGGER","title":"<code>LOGGER = logging.getLogger(__name__)</code>  <code>module-attribute</code>","text":""},{"location":"autoapi/hazbin_tracker/ui/application/#hazbin_tracker.ui.application-classes","title":"Classes","text":""},{"location":"autoapi/hazbin_tracker/ui/application/#hazbin_tracker.ui.application.HazbinTrackerApplication","title":"<code>HazbinTrackerApplication(argv)</code>","text":"<p>               Bases: <code>QApplication</code></p> <p>Main application class for Hazbin Tracker.</p> <p>Instance constructor.</p> <p>Parameters:</p> Name Type Description Default <code>argv</code> <code>list</code> <p>Command line arguments.</p> required Source code in <code>src/hazbin_tracker/ui/application.py</code> <pre><code>def __init__(self, argv):\n    \"\"\"Instance constructor.\n\n    Args:\n        argv (list): Command line arguments.\n    \"\"\"\n    super().__init__(argv)\n    self.lock_check()\n\n    self.setApplicationName(APPLICATION_TITLE)\n    self.setOrganizationName(ORGANIZATION_NAME)\n    self.setApplicationVersion(__version__)\n    self.setWindowIcon(QtGui.QIcon(\":/icons/hazbin.png\"))\n\n    self.settings = HazbinSettings()\n    self.main_window = QtWidgets.QMainWindow()\n    center_dialog_on_screen(self.main_window)\n    self.main_window.hide()\n    self._setup_pushover()\n\n    self.cards_tracker = CardsTracker()\n    self.tray_icon = HazbinTrackerSystemTrayIcon(QtGui.QIcon(\":/icons/cards.png\"))\n\n    self.tray_icon.show()\n    self.cards_tracker.start_periodic_check_timer()\n</code></pre>"},{"location":"autoapi/hazbin_tracker/ui/application/#hazbin_tracker.ui.application.HazbinTrackerApplication-attributes","title":"Attributes","text":""},{"location":"autoapi/hazbin_tracker/ui/application/#hazbin_tracker.ui.application.HazbinTrackerApplication.LOCK_FILE","title":"<code>LOCK_FILE = pathlib.Path(QtCore.QDir.tempPath()) / 'hazbin_tracker.lock'</code>  <code>class-attribute</code> <code>instance-attribute</code>","text":""},{"location":"autoapi/hazbin_tracker/ui/application/#hazbin_tracker.ui.application.HazbinTrackerApplication.cards_tracker","title":"<code>cards_tracker = CardsTracker()</code>  <code>instance-attribute</code>","text":""},{"location":"autoapi/hazbin_tracker/ui/application/#hazbin_tracker.ui.application.HazbinTrackerApplication.main_window","title":"<code>main_window = QtWidgets.QMainWindow()</code>  <code>instance-attribute</code>","text":""},{"location":"autoapi/hazbin_tracker/ui/application/#hazbin_tracker.ui.application.HazbinTrackerApplication.settings","title":"<code>settings = HazbinSettings()</code>  <code>instance-attribute</code>","text":""},{"location":"autoapi/hazbin_tracker/ui/application/#hazbin_tracker.ui.application.HazbinTrackerApplication.tray_icon","title":"<code>tray_icon = HazbinTrackerSystemTrayIcon(QtGui.QIcon(':/icons/cards.png'))</code>  <code>instance-attribute</code>","text":""},{"location":"autoapi/hazbin_tracker/ui/application/#hazbin_tracker.ui.application.HazbinTrackerApplication-functions","title":"Functions","text":""},{"location":"autoapi/hazbin_tracker/ui/application/#hazbin_tracker.ui.application.HazbinTrackerApplication.lock_check","title":"<code>lock_check()</code>","text":"<p>Check for existing application instance using a lock file.</p> Source code in <code>src/hazbin_tracker/ui/application.py</code> <pre><code>def lock_check(self):\n    \"\"\"Check for existing application instance using a lock file.\"\"\"\n    self.lock_file = QtCore.QLockFile(self.LOCK_FILE.as_posix())\n    self.lock_file.setStaleLockTime(0)\n\n    if not self.lock_file.tryLock(0):\n        LOGGER.warning(\"App instance is already running.\")\n        sys.exit(0)\n</code></pre>"},{"location":"autoapi/hazbin_tracker/ui/application/#hazbin_tracker.ui.application.HazbinTrackerApplication.show_settings_dialog","title":"<code>show_settings_dialog()</code>","text":"<p>Show the settings dialog.</p> Source code in <code>src/hazbin_tracker/ui/application.py</code> <pre><code>@QtCore.Slot()\ndef show_settings_dialog(self):\n    \"\"\"Show the settings dialog.\"\"\"\n    dialog = SettingsDialog(self.settings, parent=self.main_window)\n    center_dialog_on_screen(dialog)\n    dialog.raise_()\n    dialog.exec()\n</code></pre>"},{"location":"autoapi/hazbin_tracker/ui/application/#hazbin_tracker.ui.application-functions","title":"Functions","text":""},{"location":"autoapi/hazbin_tracker/ui/check_history_dialog/","title":"check_history_dialog","text":""},{"location":"autoapi/hazbin_tracker/ui/check_history_dialog/#hazbin_tracker.ui.check_history_dialog","title":"<code>check_history_dialog</code>","text":""},{"location":"autoapi/hazbin_tracker/ui/check_history_dialog/#hazbin_tracker.ui.check_history_dialog-attributes","title":"Attributes","text":""},{"location":"autoapi/hazbin_tracker/ui/check_history_dialog/#hazbin_tracker.ui.check_history_dialog.LOGGER","title":"<code>LOGGER = logging.getLogger(__name__)</code>  <code>module-attribute</code>","text":""},{"location":"autoapi/hazbin_tracker/ui/check_history_dialog/#hazbin_tracker.ui.check_history_dialog-classes","title":"Classes","text":""},{"location":"autoapi/hazbin_tracker/ui/check_history_dialog/#hazbin_tracker.ui.check_history_dialog.CheckHistoryDialog","title":"<code>CheckHistoryDialog(parent=None)</code>","text":"<p>               Bases: <code>QDialog</code></p> <p>Dialog to display the check history.</p> <p>Instance constructor.</p> <p>Parameters:</p> Name Type Description Default <code>parent</code> <code>QWidget</code> <p>Parent widget. Defaults to None.</p> <code>None</code> Source code in <code>src/hazbin_tracker/ui/check_history_dialog.py</code> <pre><code>def __init__(self, parent=None):\n    \"\"\"Instance constructor.\n\n    Args:\n        parent (QtWidgets.QWidget, optional): Parent widget. Defaults to None.\n    \"\"\"\n    super().__init__(parent)\n    self.setWindowTitle(\"Check History\")\n    self.resize(800, 400)\n\n    self._history_model = CheckHistoryModel()\n\n    self._create_widgets()\n    self._create_layouts()\n    self._create_connections()\n\n    self.refresh_requested.emit()\n</code></pre>"},{"location":"autoapi/hazbin_tracker/ui/check_history_dialog/#hazbin_tracker.ui.check_history_dialog.CheckHistoryDialog-attributes","title":"Attributes","text":""},{"location":"autoapi/hazbin_tracker/ui/check_history_dialog/#hazbin_tracker.ui.check_history_dialog.CheckHistoryDialog.refresh_requested","title":"<code>refresh_requested = QtCore.Signal()</code>  <code>class-attribute</code> <code>instance-attribute</code>","text":""},{"location":"autoapi/hazbin_tracker/ui/check_history_dialog/#hazbin_tracker.ui.check_history_dialog.CheckHistoryDialog-functions","title":"Functions","text":""},{"location":"autoapi/hazbin_tracker/ui/check_history_dialog/#hazbin_tracker.ui.check_history_dialog.CheckHistoryDialog.adjust_size_to_contents","title":"<code>adjust_size_to_contents()</code>","text":"<p>Adjust the dialog size to fit contents.</p> Source code in <code>src/hazbin_tracker/ui/check_history_dialog.py</code> <pre><code>@QtCore.Slot()\ndef adjust_size_to_contents(self) -&gt; None:\n    \"\"\"Adjust the dialog size to fit contents.\"\"\"\n    LOGGER.debug(\"Adjusting table to fit contents...\")\n    # Resize first column to fit contents (time)\n    self.table_view.resizeColumnToContents(0)\n    self.table_view.resizeColumnToContents(1)\n\n    # Make the second column (\"New Cards\") stretch to take remaining space\n    header = self.table_view.horizontalHeader()\n    header.setSectionResizeMode(1, QtWidgets.QHeaderView.Stretch)\n\n    # Allow rows to adjust height automatically to fit content\n    self.table_view.resizeRowsToContents()\n    self.table_view.verticalHeader().setSectionResizeMode(\n        QtWidgets.QHeaderView.ResizeToContents\n    )\n</code></pre>"},{"location":"autoapi/hazbin_tracker/ui/check_history_dialog/#hazbin_tracker.ui.check_history_dialog.CheckHistoryDialog.application","title":"<code>application()</code>","text":"<p>Get the HazbinTrackerApplication instance.</p> Source code in <code>src/hazbin_tracker/ui/check_history_dialog.py</code> <pre><code>def application(self) -&gt; \"HazbinTrackerApplication\":\n    \"\"\"Get the HazbinTrackerApplication instance.\"\"\"\n    app: HazbinTrackerApplication = QtWidgets.QApplication.instance()\n    return app\n</code></pre>"},{"location":"autoapi/hazbin_tracker/ui/check_history_dialog/#hazbin_tracker.ui.check_history_dialog.CheckHistoryDialog.on_refresh_requested","title":"<code>on_refresh_requested()</code>","text":"<p>Handle refresh request.</p> Source code in <code>src/hazbin_tracker/ui/check_history_dialog.py</code> <pre><code>@QtCore.Slot()\ndef on_refresh_requested(self) -&gt; None:\n    \"\"\"Handle refresh request.\"\"\"\n    self.refresh_history()\n    self.refresh_latest_publish_label()\n</code></pre>"},{"location":"autoapi/hazbin_tracker/ui/check_history_dialog/#hazbin_tracker.ui.check_history_dialog.CheckHistoryDialog.refresh_history","title":"<code>refresh_history()</code>","text":"<p>Refresh the check history data.</p> Source code in <code>src/hazbin_tracker/ui/check_history_dialog.py</code> <pre><code>@QtCore.Slot()\ndef refresh_history(self):\n    \"\"\"Refresh the check history data.\"\"\"\n    LOGGER.debug(\"Refreshing check history...\")\n    self._history_model.load()\n</code></pre>"},{"location":"autoapi/hazbin_tracker/ui/check_history_dialog/#hazbin_tracker.ui.check_history_dialog.CheckHistoryDialog.refresh_latest_publish_label","title":"<code>refresh_latest_publish_label()</code>","text":"<p>Refresh the latest publish label.</p> Source code in <code>src/hazbin_tracker/ui/check_history_dialog.py</code> <pre><code>@QtCore.Slot()\ndef refresh_latest_publish_label(self) -&gt; None:\n    \"\"\"Refresh the latest publish label.\"\"\"\n    LOGGER.debug(\"Refreshing latest publish label...\")\n    latest_publish_time = (\n        self.application().cards_tracker.nice_latest_publish_time or \"N/A\"\n    )\n    self._latest_publish_label.setText(\n        f\"Latest Publish: &lt;b&gt;{latest_publish_time}&lt;/b&gt;\"\n    )\n    publish_details_tooltip = \"No new cards published.\"\n    latest_cards = self.application().cards_tracker.latest_published_cards\n    if latest_cards:\n        publish_details_tooltip = \"&lt;br&gt;\".join(\n            [card[\"title\"] for card in latest_cards]\n        )\n    self._latest_publish_label.setToolTip(publish_details_tooltip)\n</code></pre>"},{"location":"autoapi/hazbin_tracker/ui/check_history_dialog/#hazbin_tracker.ui.check_history_dialog.CheckHistoryDialog.show_context_menu","title":"<code>show_context_menu(position)</code>","text":"<p>Show context menu at the given position.</p> <p>Parameters:</p> Name Type Description Default <code>position</code> <code>QPoint</code> <p>Position to show the context menu</p> required Source code in <code>src/hazbin_tracker/ui/check_history_dialog.py</code> <pre><code>@QtCore.Slot(QtCore.QPoint)\ndef show_context_menu(self, position: QtCore.QPoint):\n    \"\"\"Show context menu at the given position.\n\n    Args:\n        position (QtCore.QPoint): Position to show the context menu\n    \"\"\"\n    menu = QtWidgets.QMenu()\n\n    refresh_action = menu.addAction(\"Refresh\")\n    refresh_action.triggered.connect(self.refresh_history)\n\n    menu.exec(self.table_view.viewport().mapToGlobal(position))\n</code></pre>"},{"location":"autoapi/hazbin_tracker/ui/pyside_utils/","title":"pyside_utils","text":""},{"location":"autoapi/hazbin_tracker/ui/pyside_utils/#hazbin_tracker.ui.pyside_utils","title":"<code>pyside_utils</code>","text":""},{"location":"autoapi/hazbin_tracker/ui/pyside_utils/#hazbin_tracker.ui.pyside_utils-functions","title":"Functions","text":""},{"location":"autoapi/hazbin_tracker/ui/pyside_utils/#hazbin_tracker.ui.pyside_utils.center_dialog_on_screen","title":"<code>center_dialog_on_screen(dialog)</code>","text":"<p>Center the given dialog on the primary screen.</p> <p>Parameters:</p> Name Type Description Default <code>dialog</code> <code>QDialog</code> <p>The dialog to center.</p> required Source code in <code>src/hazbin_tracker/ui/pyside_utils.py</code> <pre><code>def center_dialog_on_screen(dialog: QtWidgets.QDialog):\n    \"\"\"Center the given dialog on the primary screen.\n\n    Args:\n        dialog (QtWidgets.QDialog): The dialog to center.\n    \"\"\"\n    screen_geometry = QtWidgets.QApplication.primaryScreen().availableGeometry()\n    x = (screen_geometry.width() - dialog.width()) // 2\n    y = (screen_geometry.height() - dialog.height()) // 2\n    dialog.move(x, y)\n</code></pre>"},{"location":"autoapi/hazbin_tracker/ui/settings_dialog/","title":"settings_dialog","text":""},{"location":"autoapi/hazbin_tracker/ui/settings_dialog/#hazbin_tracker.ui.settings_dialog","title":"<code>settings_dialog</code>","text":""},{"location":"autoapi/hazbin_tracker/ui/settings_dialog/#hazbin_tracker.ui.settings_dialog-classes","title":"Classes","text":""},{"location":"autoapi/hazbin_tracker/ui/settings_dialog/#hazbin_tracker.ui.settings_dialog.SettingsDialog","title":"<code>SettingsDialog(settings, parent=None)</code>","text":"<p>               Bases: <code>QDialog</code></p> <p>Settings dialog for Hazbin Tracker application.</p> <p>Instance constructor.</p> <p>Parameters:</p> Name Type Description Default <code>settings</code> <code>HazbinSettings</code> <p>The settings manager instance.</p> required <code>parent</code> <code>QWidget</code> <p>Parent widget. Defaults to None.</p> <code>None</code> Source code in <code>src/hazbin_tracker/ui/settings_dialog.py</code> <pre><code>def __init__(self, settings: \"HazbinSettings\", parent: QtWidgets.QWidget = None):\n    \"\"\"Instance constructor.\n\n    Args:\n        settings (HazbinSettings): The settings manager instance.\n        parent (QtWidgets.QWidget, optional): Parent widget. Defaults to None.\n    \"\"\"\n    super().__init__(parent)\n    self.setWindowTitle(\"Settings\")\n    self.setModal(True)\n    self.settings = settings\n\n    # --- Tracker Section ---\n    self.tracker_group = QtWidgets.QGroupBox(\"Tracker\")\n    tracker_group_layout = QtWidgets.QFormLayout()\n\n    # Tracker check frequency\n    self.tracker_check_frequency_spinbox = QtWidgets.QSpinBox()\n    self.tracker_check_frequency_spinbox.setButtonSymbols(\n        QtWidgets.QAbstractSpinBox.ButtonSymbols.NoButtons\n    )\n    self.tracker_check_frequency_spinbox.setValue(\n        self.settings.tracker_check_minute_frequency\n    )\n    self.tracker_check_frequency_spinbox.setMinimum(\n        self.settings.TRACKER_CHECK_FREQUENCY_MINIMUM\n    )\n    self.tracker_check_frequency_spinbox.setMinimumWidth(50)\n    tracker_group_layout.addRow(\n        \"Check Frequency (min):\", self.tracker_check_frequency_spinbox\n    )\n\n    self.check_history_size = QtWidgets.QSpinBox()\n    self.check_history_size.setButtonSymbols(\n        QtWidgets.QAbstractSpinBox.ButtonSymbols.NoButtons\n    )\n    self.check_history_size.setValue(self.settings.check_history_size)\n    self.check_history_size.setMinimum(self.settings.CHECK_HISTORY_SIZE_MINIMUM)\n    self.check_history_size.setMinimumWidth(50)\n    self.check_history_size.setToolTip(\"Number of check history entries to keep.\")\n    tracker_group_layout.addRow(\"Check History Size:\", self.check_history_size)\n\n    self.tracker_group.setLayout(tracker_group_layout)\n\n    # --- Pushover Section ---\n    self.pushover_group = QtWidgets.QGroupBox(\"Pushover\")\n    self.pushover_group.setCheckable(True)\n    self.pushover_group.setChecked(self.settings.pushover_enabled)\n\n    pushover_group_layout = QtWidgets.QFormLayout()\n\n    self.user_key_edit = QtWidgets.QLineEdit(self.settings.pushover_user_key)\n    self.app_key_edit = QtWidgets.QLineEdit(self.settings.pushover_app_key)\n    for key_edit in [self.user_key_edit, self.app_key_edit]:\n        key_edit.setMinimumWidth(200)\n        key_edit.setToolTip(key_edit.text())\n\n    pushover_group_layout.addRow(\"User Key:\", self.user_key_edit)\n    pushover_group_layout.addRow(\"App Key:\", self.app_key_edit)\n\n    self.pushover_group.setLayout(pushover_group_layout)\n\n    # Main layout\n    layout = QtWidgets.QVBoxLayout(self)\n    layout.addWidget(self.tracker_group)\n    layout.addWidget(self.pushover_group)\n    layout.addStretch()\n\n    # --- Dialog Buttons ---\n    buttons = QtWidgets.QDialogButtonBox(\n        QtWidgets.QDialogButtonBox.Ok | QtWidgets.QDialogButtonBox.Cancel\n    )\n    buttons.accepted.connect(self.accept)\n    buttons.rejected.connect(self.reject)\n    layout.addWidget(buttons)\n\n    center_dialog_on_screen(self)\n</code></pre>"},{"location":"autoapi/hazbin_tracker/ui/settings_dialog/#hazbin_tracker.ui.settings_dialog.SettingsDialog-attributes","title":"Attributes","text":""},{"location":"autoapi/hazbin_tracker/ui/settings_dialog/#hazbin_tracker.ui.settings_dialog.SettingsDialog.app_key_edit","title":"<code>app_key_edit = QtWidgets.QLineEdit(self.settings.pushover_app_key)</code>  <code>instance-attribute</code>","text":""},{"location":"autoapi/hazbin_tracker/ui/settings_dialog/#hazbin_tracker.ui.settings_dialog.SettingsDialog.check_history_size","title":"<code>check_history_size = QtWidgets.QSpinBox()</code>  <code>instance-attribute</code>","text":""},{"location":"autoapi/hazbin_tracker/ui/settings_dialog/#hazbin_tracker.ui.settings_dialog.SettingsDialog.pushover_group","title":"<code>pushover_group = QtWidgets.QGroupBox('Pushover')</code>  <code>instance-attribute</code>","text":""},{"location":"autoapi/hazbin_tracker/ui/settings_dialog/#hazbin_tracker.ui.settings_dialog.SettingsDialog.settings","title":"<code>settings = settings</code>  <code>instance-attribute</code>","text":""},{"location":"autoapi/hazbin_tracker/ui/settings_dialog/#hazbin_tracker.ui.settings_dialog.SettingsDialog.tracker_check_frequency_spinbox","title":"<code>tracker_check_frequency_spinbox = QtWidgets.QSpinBox()</code>  <code>instance-attribute</code>","text":""},{"location":"autoapi/hazbin_tracker/ui/settings_dialog/#hazbin_tracker.ui.settings_dialog.SettingsDialog.tracker_group","title":"<code>tracker_group = QtWidgets.QGroupBox('Tracker')</code>  <code>instance-attribute</code>","text":""},{"location":"autoapi/hazbin_tracker/ui/settings_dialog/#hazbin_tracker.ui.settings_dialog.SettingsDialog.user_key_edit","title":"<code>user_key_edit = QtWidgets.QLineEdit(self.settings.pushover_user_key)</code>  <code>instance-attribute</code>","text":""},{"location":"autoapi/hazbin_tracker/ui/settings_dialog/#hazbin_tracker.ui.settings_dialog.SettingsDialog-functions","title":"Functions","text":""},{"location":"autoapi/hazbin_tracker/ui/settings_dialog/#hazbin_tracker.ui.settings_dialog.SettingsDialog.accept","title":"<code>accept()</code>","text":"<p>Save changes to settings.</p> Source code in <code>src/hazbin_tracker/ui/settings_dialog.py</code> <pre><code>def accept(self):\n    \"\"\"Save changes to settings.\"\"\"\n    self.settings.pushover_enabled = self.pushover_group.isChecked()\n    self.settings.pushover_user_key = self.user_key_edit.text()\n    self.settings.pushover_app_key = self.app_key_edit.text()\n    self.settings.tracker_check_minute_frequency = (\n        self.tracker_check_frequency_spinbox.value()\n    )\n    self.settings.check_history_size = self.check_history_size.value()\n\n    self.settings.sync()  # write to disk\n    super().accept()\n</code></pre>"},{"location":"autoapi/hazbin_tracker/ui/settings_dialog/#hazbin_tracker.ui.settings_dialog-functions","title":"Functions","text":""},{"location":"autoapi/hazbin_tracker/ui/tray/","title":"tray","text":""},{"location":"autoapi/hazbin_tracker/ui/tray/#hazbin_tracker.ui.tray","title":"<code>tray</code>","text":""},{"location":"autoapi/hazbin_tracker/ui/tray/#hazbin_tracker.ui.tray-attributes","title":"Attributes","text":""},{"location":"autoapi/hazbin_tracker/ui/tray/#hazbin_tracker.ui.tray-classes","title":"Classes","text":""},{"location":"autoapi/hazbin_tracker/ui/tray/#hazbin_tracker.ui.tray.HazbinTrackerSystemTrayIcon","title":"<code>HazbinTrackerSystemTrayIcon(icon, parent=None)</code>","text":"<p>               Bases: <code>QSystemTrayIcon</code></p> <p>System tray icon for Hazbin Tracker.</p> <p>Instance constructor.</p> <p>Parameters:</p> Name Type Description Default <code>icon</code> <code>QIcon</code> <p>The icon to display in the system tray.</p> required <code>parent</code> <code>QWidget</code> <p>Parent widget. Defaults to None.</p> <code>None</code> Source code in <code>src/hazbin_tracker/ui/tray.py</code> <pre><code>def __init__(self, icon, parent: QtWidgets.QWidget = None):\n    \"\"\"Instance constructor.\n\n    Args:\n        icon (QtGui.QIcon): The icon to display in the system tray.\n        parent (QtWidgets.QWidget, optional): Parent widget. Defaults to None.\n    \"\"\"\n    super().__init__(icon, parent)\n    self.setToolTip(\"Hazbin Tracker\")\n    self.context_menu = SystemTrayContextMenu(parent)\n    self.setContextMenu(self.context_menu)\n\n    self.context_menu.check_for_updates_action.triggered.connect(\n        self.onCheckRequested\n    )\n    self.tracker.new_cards_found.connect(self.show_new_cards_message)\n    self.messageClicked.connect(self.open_hazbin_website)\n</code></pre>"},{"location":"autoapi/hazbin_tracker/ui/tray/#hazbin_tracker.ui.tray.HazbinTrackerSystemTrayIcon-attributes","title":"Attributes","text":""},{"location":"autoapi/hazbin_tracker/ui/tray/#hazbin_tracker.ui.tray.HazbinTrackerSystemTrayIcon.context_menu","title":"<code>context_menu = SystemTrayContextMenu(parent)</code>  <code>instance-attribute</code>","text":""},{"location":"autoapi/hazbin_tracker/ui/tray/#hazbin_tracker.ui.tray.HazbinTrackerSystemTrayIcon.tracker","title":"<code>tracker</code>  <code>property</code>","text":"<p>Get the CardsTracker instance from the application.</p>"},{"location":"autoapi/hazbin_tracker/ui/tray/#hazbin_tracker.ui.tray.HazbinTrackerSystemTrayIcon-functions","title":"Functions","text":""},{"location":"autoapi/hazbin_tracker/ui/tray/#hazbin_tracker.ui.tray.HazbinTrackerSystemTrayIcon.onCheckRequested","title":"<code>onCheckRequested()</code>","text":"<p>Handle user request to check for new cards.</p> Source code in <code>src/hazbin_tracker/ui/tray.py</code> <pre><code>@QtCore.Slot()\ndef onCheckRequested(self):\n    \"\"\"Handle user request to check for new cards.\"\"\"\n    new_cards = self.tracker.run_check()\n    if not new_cards:\n        self.showMessage(\n            \"Hazbin Tracker\",\n            \"No new Hazbin cards found.\",\n            QtWidgets.QSystemTrayIcon.NoIcon,\n            5000,\n        )\n</code></pre>"},{"location":"autoapi/hazbin_tracker/ui/tray/#hazbin_tracker.ui.tray.HazbinTrackerSystemTrayIcon.open_hazbin_website","title":"<code>open_hazbin_website()</code>","text":"<p>Open the Hazbin website in the default web browser.</p> Source code in <code>src/hazbin_tracker/ui/tray.py</code> <pre><code>@QtCore.Slot()\ndef open_hazbin_website(self):\n    \"\"\"Open the Hazbin website in the default web browser.\"\"\"\n    webbrowser.open_new_tab(HAZBIN_WEBSITE_URL)\n</code></pre>"},{"location":"autoapi/hazbin_tracker/ui/tray/#hazbin_tracker.ui.tray.HazbinTrackerSystemTrayIcon.show_new_cards_message","title":"<code>show_new_cards_message(new_cards)</code>","text":"<p>Show a system tray message for new cards found.</p> <p>Parameters:</p> Name Type Description Default <code>new_cards</code> <code>list</code> <p>List of new cards found.</p> required Source code in <code>src/hazbin_tracker/ui/tray.py</code> <pre><code>@QtCore.Slot(list)\ndef show_new_cards_message(self, new_cards: list):\n    \"\"\"Show a system tray message for new cards found.\n\n    Args:\n        new_cards (list): List of new cards found.\n    \"\"\"\n    self.showMessage(\n        \"Hazbin Tracker\",\n        self.tracker.generate_new_cards_message(new_cards),\n        QtWidgets.QSystemTrayIcon.NoIcon,\n        0,\n    )\n</code></pre>"},{"location":"autoapi/hazbin_tracker/ui/tray/#hazbin_tracker.ui.tray.SystemTrayContextMenu","title":"<code>SystemTrayContextMenu(parent=None)</code>","text":"<p>               Bases: <code>QMenu</code></p> <p>System tray context menu for Hazbin Tracker.</p> <p>Instance constructor.</p> <p>Parameters:</p> Name Type Description Default <code>parent</code> <code>QWidget</code> <p>Parent widget. Defaults to None.</p> <code>None</code> Source code in <code>src/hazbin_tracker/ui/tray.py</code> <pre><code>def __init__(self, parent: QtWidgets.QWidget = None):\n    \"\"\"Instance constructor.\n\n    Args:\n        parent (QtWidgets.QWidget, optional): Parent widget. Defaults to None.\n    \"\"\"\n    super().__init__(parent)\n    self.last_check_info_action = self.addAction(\"Last checked: Never\")\n    self.last_check_info_action.setEnabled(False)\n    self.check_for_updates_action = self.addAction(\"Check for New Cards\")\n    self.history_action = self.addAction(\"History...\")\n    self.settings_action = self.addAction(\"Settings...\")\n    self.about_action = self.addAction(\"About...\")\n    self.addSeparator()\n    self.exit_action = self.addAction(f\"Quit {APPLICATION_TITLE}\")\n\n    # Initial updates\n    self.update_last_checked_action()\n\n    # Signals\n    self.history_action.triggered.connect(self.show_history_dialog)\n    self.tracker.check_time_updated.connect(self.update_last_checked_action)\n    self.settings_action.triggered.connect(\n        self.tracker.application.show_settings_dialog\n    )\n    self.about_action.triggered.connect(self.show_about_dialog)\n    self.exit_action.triggered.connect(QtWidgets.QApplication.quit)\n</code></pre>"},{"location":"autoapi/hazbin_tracker/ui/tray/#hazbin_tracker.ui.tray.SystemTrayContextMenu-attributes","title":"Attributes","text":""},{"location":"autoapi/hazbin_tracker/ui/tray/#hazbin_tracker.ui.tray.SystemTrayContextMenu.about_action","title":"<code>about_action = self.addAction('About...')</code>  <code>instance-attribute</code>","text":""},{"location":"autoapi/hazbin_tracker/ui/tray/#hazbin_tracker.ui.tray.SystemTrayContextMenu.application","title":"<code>application</code>  <code>property</code>","text":"<p>Get the HazbinTrackerApplication instance.</p>"},{"location":"autoapi/hazbin_tracker/ui/tray/#hazbin_tracker.ui.tray.SystemTrayContextMenu.check_for_updates_action","title":"<code>check_for_updates_action = self.addAction('Check for New Cards')</code>  <code>instance-attribute</code>","text":""},{"location":"autoapi/hazbin_tracker/ui/tray/#hazbin_tracker.ui.tray.SystemTrayContextMenu.exit_action","title":"<code>exit_action = self.addAction(f'Quit {APPLICATION_TITLE}')</code>  <code>instance-attribute</code>","text":""},{"location":"autoapi/hazbin_tracker/ui/tray/#hazbin_tracker.ui.tray.SystemTrayContextMenu.history_action","title":"<code>history_action = self.addAction('History...')</code>  <code>instance-attribute</code>","text":""},{"location":"autoapi/hazbin_tracker/ui/tray/#hazbin_tracker.ui.tray.SystemTrayContextMenu.last_check_info_action","title":"<code>last_check_info_action = self.addAction('Last checked: Never')</code>  <code>instance-attribute</code>","text":""},{"location":"autoapi/hazbin_tracker/ui/tray/#hazbin_tracker.ui.tray.SystemTrayContextMenu.settings_action","title":"<code>settings_action = self.addAction('Settings...')</code>  <code>instance-attribute</code>","text":""},{"location":"autoapi/hazbin_tracker/ui/tray/#hazbin_tracker.ui.tray.SystemTrayContextMenu.tracker","title":"<code>tracker</code>  <code>property</code>","text":"<p>Get the CardsTracker instance from the application.</p>"},{"location":"autoapi/hazbin_tracker/ui/tray/#hazbin_tracker.ui.tray.SystemTrayContextMenu-functions","title":"Functions","text":""},{"location":"autoapi/hazbin_tracker/ui/tray/#hazbin_tracker.ui.tray.SystemTrayContextMenu.show_about_dialog","title":"<code>show_about_dialog()</code>","text":"<p>Show the About dialog.</p> Source code in <code>src/hazbin_tracker/ui/tray.py</code> <pre><code>@QtCore.Slot()\ndef show_about_dialog(self):\n    \"\"\"Show the About dialog.\"\"\"\n    dialog = AboutDialog(self.application.main_window)\n    dialog.exec()\n</code></pre>"},{"location":"autoapi/hazbin_tracker/ui/tray/#hazbin_tracker.ui.tray.SystemTrayContextMenu.show_history_dialog","title":"<code>show_history_dialog()</code>","text":"<p>Show the check history dialog.</p> Source code in <code>src/hazbin_tracker/ui/tray.py</code> <pre><code>@QtCore.Slot()\ndef show_history_dialog(self):\n    \"\"\"Show the check history dialog.\"\"\"\n    dialog = CheckHistoryDialog(self.application.main_window)\n    dialog.exec()\n</code></pre>"},{"location":"autoapi/hazbin_tracker/ui/tray/#hazbin_tracker.ui.tray.SystemTrayContextMenu.update_last_checked_action","title":"<code>update_last_checked_action()</code>","text":"<p>Update the last checked info in the context menu.</p> Source code in <code>src/hazbin_tracker/ui/tray.py</code> <pre><code>@QtCore.Slot()\ndef update_last_checked_action(self):\n    \"\"\"Update the last checked info in the context menu.\"\"\"\n    self.last_check_info_action.setText(\n        f\"Last checked: {self.tracker.nice_last_checked_time}\"\n    )\n</code></pre>"},{"location":"autoapi/hazbin_tracker/ui/models/","title":"models","text":""},{"location":"autoapi/hazbin_tracker/ui/models/#hazbin_tracker.ui.models","title":"<code>models</code>","text":""},{"location":"autoapi/hazbin_tracker/ui/models/check_history/","title":"check_history","text":""},{"location":"autoapi/hazbin_tracker/ui/models/check_history/#hazbin_tracker.ui.models.check_history","title":"<code>check_history</code>","text":""},{"location":"autoapi/hazbin_tracker/ui/models/check_history/#hazbin_tracker.ui.models.check_history-attributes","title":"Attributes","text":""},{"location":"autoapi/hazbin_tracker/ui/models/check_history/#hazbin_tracker.ui.models.check_history.LOGGER","title":"<code>LOGGER = logging.getLogger(__name__)</code>  <code>module-attribute</code>","text":""},{"location":"autoapi/hazbin_tracker/ui/models/check_history/#hazbin_tracker.ui.models.check_history-classes","title":"Classes","text":""},{"location":"autoapi/hazbin_tracker/ui/models/check_history/#hazbin_tracker.ui.models.check_history.CheckHistoryModel","title":"<code>CheckHistoryModel(parent=None)</code>","text":"<p>               Bases: <code>QAbstractTableModel</code></p> <p>Model for the check history table view.</p> <p>Instance constructor.</p> <p>Parameters:</p> Name Type Description Default <code>parent</code> <code>QObject</code> <p>Parent object. Defaults to None.</p> <code>None</code> Source code in <code>src/hazbin_tracker/ui/models/check_history.py</code> <pre><code>def __init__(self, parent=None):\n    \"\"\"Instance constructor.\n\n    Args:\n        parent (QtCore.QObject, optional): Parent object. Defaults to None.\n    \"\"\"\n    super().__init__(parent)\n    self._records: list[dict] = []\n</code></pre>"},{"location":"autoapi/hazbin_tracker/ui/models/check_history/#hazbin_tracker.ui.models.check_history.CheckHistoryModel-functions","title":"Functions","text":""},{"location":"autoapi/hazbin_tracker/ui/models/check_history/#hazbin_tracker.ui.models.check_history.CheckHistoryModel.columnCount","title":"<code>columnCount(parent=QtCore.QModelIndex())</code>","text":"<p>Get the number of columns in the model.</p> <p>Parameters:</p> Name Type Description Default <code>parent</code> <code>QModelIndex</code> <p>Parent index.</p> <code>QModelIndex()</code> <p>Returns:</p> Name Type Description <code>int</code> <code>int</code> <p>Number of columns.</p> Source code in <code>src/hazbin_tracker/ui/models/check_history.py</code> <pre><code>def columnCount(self, parent=QtCore.QModelIndex()) -&gt; int:\n    \"\"\"Get the number of columns in the model.\n\n    Args:\n        parent (QtCore.QModelIndex, optional): Parent index.\n\n    Returns:\n        int: Number of columns.\n    \"\"\"\n    return 2\n</code></pre>"},{"location":"autoapi/hazbin_tracker/ui/models/check_history/#hazbin_tracker.ui.models.check_history.CheckHistoryModel.data","title":"<code>data(index, role)</code>","text":"<p>Get data for a given index and role.</p> <p>Parameters:</p> Name Type Description Default <code>index</code> <code>QModelIndex</code> <p>The index to retrieve data for.</p> required <code>role</code> <code>int</code> <p>The role for which data is requested.</p> required <p>Returns:</p> Name Type Description <code>Any</code> <code>Any</code> <p>The data for the given index and role.</p> Source code in <code>src/hazbin_tracker/ui/models/check_history.py</code> <pre><code>def data(self, index: QtCore.QModelIndex, role: int) -&gt; typing.Any:\n    \"\"\"Get data for a given index and role.\n\n    Args:\n        index (QtCore.QModelIndex): The index to retrieve data for.\n        role (int, optional): The role for which data is requested.\n\n    Returns:\n        Any: The data for the given index and role.\n    \"\"\"\n    if not index.isValid():\n        return None\n\n    record = self._records[index.row()]\n\n    if role == QtCore.Qt.ItemDataRole.DisplayRole:\n        if index.column() == 0:\n            return record.get(\"timestamp\", \"\")\n\n        if index.column() == 1:\n            return self.format_record_new_cards(record)\n\n    return None\n</code></pre>"},{"location":"autoapi/hazbin_tracker/ui/models/check_history/#hazbin_tracker.ui.models.check_history.CheckHistoryModel.format_record_new_cards","title":"<code>format_record_new_cards(record)</code>","text":"<p>Format the new cards list for display.</p> <p>Parameters:</p> Name Type Description Default <code>record</code> <code>dict</code> <p>A record containing check info.</p> required <p>Returns:</p> Name Type Description <code>str</code> <code>str</code> <p>Formatted string of new cards.</p> Source code in <code>src/hazbin_tracker/ui/models/check_history.py</code> <pre><code>def format_record_new_cards(self, record: dict) -&gt; str:\n    \"\"\"Format the new cards list for display.\n\n    Args:\n        record (dict): A record containing check info.\n\n    Returns:\n        str: Formatted string of new cards.\n    \"\"\"\n    new_cards = record.get(\"new_cards\", [])\n    if not new_cards:\n        return \"No new cards\"\n    result_string = \"\"\n    for card_info in new_cards:\n        card_title = card_info.get(\"title\")\n        result_string += f\"- {card_title}\\n\"\n    return result_string.strip()\n</code></pre>"},{"location":"autoapi/hazbin_tracker/ui/models/check_history/#hazbin_tracker.ui.models.check_history.CheckHistoryModel.headerData","title":"<code>headerData(section, orientation, role=QtCore.Qt.DisplayRole)</code>","text":"<p>Get header data for the model.</p> <p>Parameters:</p> Name Type Description Default <code>section</code> <code>int</code> <p>Section index.</p> required <code>orientation</code> <code>Orientation</code> <p>Orientation (horizontal/vertical).</p> required <code>role</code> <code>int</code> <p>Role for which data is requested.</p> <code>DisplayRole</code> <p>Returns:</p> Name Type Description <code>Any</code> <p>Header data for the given section, orientation, and role.</p> Source code in <code>src/hazbin_tracker/ui/models/check_history.py</code> <pre><code>def headerData(self, section, orientation, role=QtCore.Qt.DisplayRole):\n    \"\"\"Get header data for the model.\n\n    Args:\n        section (int): Section index.\n        orientation (QtCore.Qt.Orientation): Orientation (horizontal/vertical).\n        role (int, optional): Role for which data is requested.\n\n    Returns:\n        Any: Header data for the given section, orientation, and role.\n    \"\"\"\n    if role != QtCore.Qt.DisplayRole:\n        return None\n    if orientation == QtCore.Qt.Horizontal:\n        return [\"Time\", \"Result\"][section]\n    return str(section)\n</code></pre>"},{"location":"autoapi/hazbin_tracker/ui/models/check_history/#hazbin_tracker.ui.models.check_history.CheckHistoryModel.load","title":"<code>load()</code>","text":"<p>Load check history from the JSON file.</p> Source code in <code>src/hazbin_tracker/ui/models/check_history.py</code> <pre><code>def load(self):\n    \"\"\"Load check history from the JSON file.\"\"\"\n    LOGGER.debug(\"Loading check history from file: %s\", CHECK_HISTORY_FILE_PATH)\n    if CHECK_HISTORY_FILE_PATH.exists():\n        try:\n            self._records = json.loads(CHECK_HISTORY_FILE_PATH.read_text())\n        except Exception:\n            LOGGER.exception(\"Failed to load check history, initializing new one.\")\n            self._records = []\n    else:\n        self._records = []\n\n    self.layoutChanged.emit()\n</code></pre>"},{"location":"autoapi/hazbin_tracker/ui/models/check_history/#hazbin_tracker.ui.models.check_history.CheckHistoryModel.rowCount","title":"<code>rowCount(parent=QtCore.QModelIndex())</code>","text":"<p>Get the number of rows in the model.</p> <p>Parameters:</p> Name Type Description Default <code>parent</code> <code>QModelIndex</code> <p>Parent index.</p> <code>QModelIndex()</code> <p>Returns:</p> Name Type Description <code>int</code> <code>int</code> <p>Number of rows.</p> Source code in <code>src/hazbin_tracker/ui/models/check_history.py</code> <pre><code>def rowCount(self, parent=QtCore.QModelIndex()) -&gt; int:\n    \"\"\"Get the number of rows in the model.\n\n    Args:\n        parent (QtCore.QModelIndex, optional): Parent index.\n\n    Returns:\n        int: Number of rows.\n    \"\"\"\n    return len(self._records)\n</code></pre>"},{"location":"dev/","title":"Developer Guide","text":""},{"location":"dev/#setup","title":"Setup","text":"<p>Project is using Poetry and Python 3.12 as basic requirements.</p> <ol> <li>Create a new venv and activate it</li> <li>Run <code>poetry install --with dev</code></li> <li>If you are using VsCode will launch new instance of the app.</li> </ol>"},{"location":"dev/#make-commands","title":"Make commands","text":"<ul> <li><code>check</code> - runs ruff plus pytest</li> <li><code>pytest-pdb</code> - runs pytest with pdb on error</li> <li><code>qrc</code> - rebuilds qrc resources in case of new/updated icons</li> <li><code>iconset</code> - builds iconset for main app icon (Mac)</li> <li><code>app</code> - runs pyinstaller that uses <code>HazbinTracker.spec</code> file</li> <li><code>install</code> - Installs app into Applications directory (Mac)</li> <li><code>update-version</code> - updates pyproject.toml to match one in VERSION file</li> </ul>"},{"location":"user/","title":"User Guide","text":""},{"location":"user/#installation","title":"Installation","text":""},{"location":"user/#mac","title":"Mac","text":"<ol> <li>Download latest release app image</li> <li>Add app image to your Applications folder</li> <li>Launch</li> </ol>"},{"location":"user/#ui-elements","title":"UI Elements","text":"<p>Once the app is launch you should see the following tray icon appear:</p> <p></p> <p>Clicking on it will bring a context menu which allows you:</p> <ul> <li>Run manual check for new cards</li> <li>Check previous history of checks and their results</li> <li>Open settings dialog to adjust app settings</li> <li>Quit the application</li> </ul>"},{"location":"user/#check-history","title":"Check History","text":"<p>History dialog allows you to double check history of checks that were run in the background.</p> <p></p>"},{"location":"user/#settings","title":"Settings","text":"<p>Settings dialog allows to adjust various tracker settings.</p> <p></p>"},{"location":"user/#pushover-notifcations","title":"Pushover notifcations","text":"<p>In order to receive push notifications on your phone the following steps are necessary:</p> <p></p> <ol> <li>Register new App on pushover website</li> <li>This should provide you with APP KEY.</li> <li>Using settings dialog copy/paste your APP and USER from pushover website.</li> <li>Install <code>Pushover</code> app on your phone</li> <li>If everything is configured correctly you should receive push notification once new cards are released.</li> </ol> <p>Note:</p> <p>It's possible to test notifications by doing the following:</p> <ul> <li>Quit the app if it's running</li> <li>Fake last check date to much older one in <code>track_data.json</code></li> <li>Launch the app and run cards check from tray context menu.</li> </ul> <p>Pushover App:</p> <ul> <li>App Store</li> <li>Play Store</li> </ul>"}]}